# =============================================================================
# MerbsConnect Backend - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your actual values
# For production deployments, set these as environment variables in your hosting platform
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION (Required)
# -----------------------------------------------------------------------------
# PostgreSQL connection URL
# Format: jdbc:postgresql://host:port/database_name
DB_URL=jdbc:postgresql://localhost:5432/merbsconnect

# Database credentials
DB_USERNAME=postgres
DB_PASSWORD=your_database_password

# -----------------------------------------------------------------------------
# SERVER CONFIGURATION
# -----------------------------------------------------------------------------
# Port the application will run on (default: 9000)
SERVER_PORT=9000

# Base URL of the application (used for email links, QR codes, etc.)
# For production, use your actual domain
BASE_URL=https://api.merbsconnect.com

# -----------------------------------------------------------------------------
# JWT AUTHENTICATION (Required - CHANGE IN PRODUCTION)
# -----------------------------------------------------------------------------
# Secret key for signing JWT tokens (minimum 32 characters, use a secure random string)
# Generate with: openssl rand -base64 64
JWT_SECRET=your_very_secure_jwt_secret_key_at_least_32_characters_long

# JWT token expiration in milliseconds (default: 24 hours = 86400000)
JWT_EXPIRATION=86400000

# Refresh token expiration in milliseconds (default: 7 days = 604800000)
JWT_REFRESH_EXPIRATION=604800000

# JWT issuer identifier
JWT_ISSUER=merbsconnect

# -----------------------------------------------------------------------------
# DEFAULT ADMIN ACCOUNT (Created on first startup)
# -----------------------------------------------------------------------------
# Change these values before first production deployment
ADMIN_EMAIL=admin@merbsconnect.com
ADMIN_PASSWORD=your_secure_admin_password
ADMIN_PHONE=+233543358413

# -----------------------------------------------------------------------------
# EMAIL CONFIGURATION (Resend.com)
# -----------------------------------------------------------------------------
# Get your API key from https://resend.com/api-keys
RESEND_API_KEY=re_your_resend_api_key

# From email address (must be verified in Resend)
EMAIL_FROM=noreply@merbsconnect.com

# -----------------------------------------------------------------------------
# SMS CONFIGURATION (mNotify)
# -----------------------------------------------------------------------------
# Get your API key from https://mnotify.com
SMS_MNOTIFY_API_KEY=your_mnotify_api_key
SMS_MNOTIFY_URL=https://api.mnotify.com/api/sms/quick

# -----------------------------------------------------------------------------
# TOKEN/VERIFICATION SETTINGS
# -----------------------------------------------------------------------------
# How long verification tokens are valid (hours)
TOKEN_VERIFICATION_HOURS=24

# How long password reset tokens are valid (hours)
TOKEN_PASSWORD_RESET_HOURS=24

# Rate limiting for token requests
TOKEN_RATE_LIMIT_MAX_ATTEMPTS=5
TOKEN_RATE_LIMIT_COOLDOWN_MINUTES=15
TOKEN_RATE_LIMIT_ATTEMPT_WINDOW_HOURS=1

# Cron expression for cleaning expired tokens (default: midnight daily)
TOKEN_CLEANUP_CRON=0 0 0 * * *

# -----------------------------------------------------------------------------
# FILE STORAGE (S3-Compatible - Railway/AWS/Cloudflare R2)
# -----------------------------------------------------------------------------
# S3-compatible storage endpoint
RAILWAY_STORAGE_ENDPOINT=https://your-storage-endpoint.com

# Bucket name for file uploads
RAILWAY_STORAGE_BUCKET=merbsconnect

# Access credentials
RAILWAY_STORAGE_ACCESS_KEY_ID=your_access_key_id
RAILWAY_STORAGE_SECRET_ACCESS_KEY=your_secret_access_key

# Storage region (use 'auto' for most S3-compatible services)
RAILWAY_STORAGE_REGION=auto

# -----------------------------------------------------------------------------
# JPA/HIBERNATE SETTINGS
# -----------------------------------------------------------------------------
# Show SQL queries in logs (set to false in production)
JPA_SHOW_SQL=false

# Format SQL in logs
JPA_FORMAT_SQL=true

# -----------------------------------------------------------------------------
# SWAGGER/OPENAPI DOCUMENTATION
# -----------------------------------------------------------------------------
# Enable/disable Swagger UI (consider disabling in production)
SWAGGER_UI_ENABLED=true

# Swagger paths
SWAGGER_API_DOCS_PATH=/api-docs
SWAGGER_UI_PATH=/swagger-ui.html

# Swagger UI options
SWAGGER_OPERATIONS_SORTER=alpha
SWAGGER_TAGS_SORTER=alpha
SWAGGER_TRY_IT_OUT_ENABLED=true
SWAGGER_DOC_EXPANSION=none
SWAGGER_DEEP_LINKING=true
SWAGGER_USE_ROOT_PATH=false
